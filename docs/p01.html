<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 1 - Graphing the Effect of Intergroup Contact on Political Polarization</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Portfolio 1 - Graphing the Effect of
Intergroup Contact on Political Polarization</h1>

</div>


<div id="goal" class="section level2">
<h2>Goal</h2>
<blockquote>
<p>My goal is to use my First Year Project data to make a bar graph to
show the mean pre-test polarization scores of participants grouped by
condition (control and deliberation) and party affiliation (Democrat or
Republican). Once I make the graph, I will interpret it.</p>
</blockquote>
</div>
<div id="importing-and-examining-data" class="section level2">
<h2>Importing and Examining Data</h2>
<p>Quite a bit of work in SPSS went into getting the data formatted the
way I needed it to make a graph in R. After getting the data how I
needed it within SPSS, I used the haven package to get the dataset into
R.</p>
<p>I use the str() function to show the structure of my data (see
below). It may not look pretty, but it shows that I have a tibble with
400 rows a 7 columns. It shows the 7 variables in my data set and shows
the value labels for the variables that have them.</p>
<p>Note: Because I’ll be making a graph with polarization as the DV,
bias and target are irrelevant variables. This is because polarization
scores were computed by taking the absolute value of the difference in
attitudes (bias) towards Democrats and Republicans (targets). So, a
larger distance in attitudes (e.g., extremely postive towards one part
and extremely negative towards the other party) produces a larger
polarization score.</p>
<pre class="r"><code>library(tidyverse) 
library(tidyr)
library(haven)
partisan_bias &lt;- read_sav(&quot;p01/data/LongData.sav&quot;)
str(partisan_bias)</code></pre>
<pre><code>## tibble [400 × 7] (S3: tbl_df/tbl/data.frame)
##  $ participant : num [1:400] 1 1 1 1 2 2 2 2 3 3 ...
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F1.0&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 13
##  $ delib       : dbl+lbl [1:400] 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
##    ..@ format.spss  : chr &quot;F1.0&quot;
##    ..@ display_width: int 7
##    ..@ labels       : Named num [1:2] 0 1
##    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;control&quot; &quot;deliberation&quot;
##  $ partyid     : dbl+lbl [1:400] 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, ...
##    ..@ format.spss  : chr &quot;F1.0&quot;
##    ..@ display_width: int 10
##    ..@ labels       : Named num [1:2] 1 2
##    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Democrats&quot; &quot;Republicans&quot;
##  $ target      : dbl+lbl [1:400] 1, 1, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2, 1, 1, ...
##    ..@ format.spss: chr &quot;F4.0&quot;
##    ..@ labels     : Named num [1:2] 1 2
##    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Democrat&quot; &quot;Republican&quot;
##  $ time        : dbl+lbl [1:400] 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, ...
##    ..@ format.spss: chr &quot;F4.0&quot;
##    ..@ labels     : Named num [1:2] 1 2
##    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;pretest&quot; &quot; posttest&quot;
##  $ bias        : num [1:400] 12 17 64.3 60 30 ...
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 11
##  $ polarization: num [1:400] 52.3 42.9 52.3 42.9 33.1 ...
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 14</code></pre>
</div>
<div id="creating-a-dataframe-with-summary-statistics-for-the-graph"
class="section level2">
<h2>Creating a Dataframe with Summary Statistics for the Graph</h2>
<p>Because I know what I want my graph to look like, I know that the
variables polarization, delib, partyid, and time will be important for
making the graph.</p>
<p>However, I also know that:</p>
<ol style="list-style-type: decimal">
<li><p>I only want pre-test scores;</p></li>
<li><p>the graph won’t contain individual polarization scores, but will
instead display mean polarization scores for four different groups
(delib x partyid); and</p></li>
<li><p>I want my graph to have standard error bars to visualize whether
differences between groups are meaningful.</p></li>
</ol>
<p>Therefore, below I create a new data frame (pretest_pol_summary)
which uses the data from my original dataset, filters it to contain only
cases where time = 1, and contains the mean polarization scores and
standard errors for participants grouped by condition (delib), party
identification, and time (pre-test, post-test). The output shows the
values that I want in my table (disregarding the ns).</p>
<pre class="r"><code>pretest_pol_summary &lt;- partisan_bias %&gt;%
  filter(time == 1) %&gt;%
  group_by(delib, partyid) %&gt;% 
  summarise(
    mean_pol = mean(polarization, na.rm = TRUE),
    se_pol = sd(polarization, na.rm = TRUE) / sqrt(n()),
    n = n()
  )

pretest_pol_summary</code></pre>
<pre><code>## # A tibble: 4 × 5
## # Groups:   delib [2]
##   delib            partyid         mean_pol se_pol     n
##   &lt;dbl+lbl&gt;        &lt;dbl+lbl&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;
## 1 0 [control]      1 [Democrats]       35.7   3.47    36
## 2 0 [control]      2 [Republicans]     24.2   2.38    52
## 3 1 [deliberation] 1 [Democrats]       24.7   1.96    58
## 4 1 [deliberation] 2 [Republicans]     14.6   1.83    54</code></pre>
</div>
<div id="plotting-using-ggplot" class="section level2">
<h2>Plotting using Ggplot</h2>
<p>Finally, below I use ggplot to create a bar graph using the
pretest_pol_summary data frame, with condition (delib) on the x axis,
polarization on the y axis (mean_pol), with fill color according to
partyid. Stat = “identity” ensures that the bars represent the actual
values of mean polarization scores and position = “dodge” ensures that
the bars appear side by side. The error bars are created by setting
minimum and maximum values using the mean and standard error values for
each group. The remaining code sets labels for the groups on the x axis,
colors and labels for the bar fill and components of the key, labels for
the x and y axis and the key, and a title for the graph.</p>
<pre class="r"><code>library(ggplot2)

ggplot(pretest_pol_summary, aes(x = factor(delib), y = mean_pol, fill = factor(partyid))) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  geom_errorbar(aes(ymin = mean_pol - se_pol, 
                    ymax = mean_pol + se_pol),
                position = position_dodge(0.9), width = 0.2) +
  scale_x_discrete(labels = c(&quot;Control&quot;, &quot;Deliberation&quot;)) +
  scale_fill_manual(values = c(&quot;blue&quot;, &quot;red&quot;), labels = c(&quot;Democrat&quot;, &quot;Republican&quot;)) +
  labs(x = &quot;Condition&quot;, y = &quot;Mean Pre-test Polarization&quot;, fill = &quot;Party ID&quot;) +
  ggtitle(&quot;Effect of Minimal Intergroup Contact on Affective Partisan Polarization&quot;) +
  theme_minimal()</code></pre>
<p><img src="p01_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="intrepretation" class="section level2">
<h2>Intrepretation</h2>
<p>The bar graph above represents pre-test polarization scores of
Democrats and Republicans in a control group and deliberation group.</p>
<p>At pre-test in the deliberation condition, participants were seated
at a table with equal numbers of Democrats and Republicans but had not
yet done the deliberation exercise (a structured, goal-oriented
conversation on political topics).</p>
<p>At pre-test in the control condition, participants were alone.</p>
<p>Therefore, the overall difference in pre-test polarization scores
between control and deliberation participants represents the effect of
minimal intergroup contact on affective politcal polarization.</p>
<p>We can see from the graph that, within condition, there is a main
effect of party affiliation such that Democrats are more polarized than
Republicans in both the control and deliberation conditions.</p>
<p>We can also see that, within each party, there is a main effect of
condition such that control Democrats are more polarized than
deliberation Democrats and control Republicans are more polarized than
deliberation Republicans.</p>
<p>We cannot say from this graph, however, whether there is an overall
main effect of condition on pre-test polarization.</p>
<p>Disclaimer: Claude and ChatGPT helped me with this assignment by
providing options for code. When using code generated by Claude or
ChatGPT, I also used Claude/Chat to help me understand what the code was
doing. I believe I (mostly, hopefully) demonstrated adequate
understanding of the code in my descriptions.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
