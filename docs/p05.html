<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 5</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Portfolio 5</h1>

</div>


<blockquote>
<p>The projects should be numbered consecutively (i.e., in the order in
which you began them), and should include for each project a description
of the goal, the product (computer program, hand graph, computer graph,
etc.), the data, and some interpretation. Reports must be reproducible
and of high quality in terms of writing, grammar, presentation, etc.</p>
</blockquote>
<pre class="r"><code>WB_vars &lt;- c(&quot;WellBeing&quot;, &quot;Anxiety_POMP&quot;, &quot;Depression_POMP&quot;, &quot;LifeSatisf_POMP&quot;, 
             &quot;PosAffect_POMP&quot;, &quot;NegAffect_POMP&quot;)
expl_vars &lt;- c(&quot;CSJAS&quot;, &quot;Relig&quot;, &quot;Relig_inter&quot;, &quot;Relig_intra&quot;)


run_regressions &lt;- function(WB_vars, expl_vars) {
  print(summary(lm(WB_vars ~ expl_vars, data = data_for_analysis)))
  print(summary(lm(WB_vars ~ expl_vars + PolLib, data = data_for_analysis)))
  print(summary(lm(WB_vars ~ expl_vars + PolLib + Gender, data = data_for_analysis)))
  print(summary(lm(WB_vars ~ expl_vars + PolLib + Gender + SexOrien_dummy + Asian_dummy +
                     Black_or_Other_dummy + Hispanic_dummy + SocScience_dummy + STEM_dummy + 
                     Hum_Educ_dummy + Other_Undec_dummy, data = data_for_analysis)))
}

for(i in 1:length(WB_vars)) {
  for(j in 1:length(expl_vars)) {
    run_regressions(WB_vars[i], expl_vars[j])
  }
}</code></pre>
<p>Claude.ai: I see a few issues with your code that need to be fixed
for it to work properly. Let me explain:</p>
<p>The main issue is in your run_regressions() function. When you pass
variables like WB_vars[i] and expl_vars[j], these are just strings
containing variable names, not the actual variables themselves. The
formula notation in lm() expects actual variable names, not strings.
You’re trying to use WB_vars and expl_vars directly in the formula, but
you’re passing them as parameters to the function. The data_for_analysis
dataset is referenced but not defined in the code shown.</p>
<p>Here’s a corrected version:</p>
<pre class="r"><code># Define variable names
WB_vars &lt;- c(&quot;WellBeing&quot;, &quot;Anxiety_POMP&quot;, &quot;Depression_POMP&quot;, &quot;LifeSatisf_POMP&quot;, 
             &quot;PosAffect_POMP&quot;, &quot;NegAffect_POMP&quot;)
expl_vars &lt;- c(&quot;CSJAS&quot;, &quot;Relig&quot;, &quot;Relig_inter&quot;, &quot;Relig_intra&quot;)

# Function to run regressions using formulas created from strings
run_regressions &lt;- function(dependent_var, explanatory_var, data) {
  # Model 1: Just the explanatory variable
  formula1 &lt;- as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var))
  print(paste(&quot;Model 1:&quot;, dependent_var, &quot;~&quot;, explanatory_var))
  print(summary(lm(formula1, data = data)))
  
  # Model 2: Add PolLib
  formula2 &lt;- as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib&quot;))
  print(paste(&quot;Model 2:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib&quot;))
  print(summary(lm(formula2, data = data)))
  
  # Model 3: Add Gender
  formula3 &lt;- as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib + Gender&quot;))
  print(paste(&quot;Model 3:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib + Gender&quot;))
  print(summary(lm(formula3, data = data)))
  
  # Model 4: Add all controls
  formula4 &lt;- as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, 
                              &quot;+ PolLib + Gender + SexOrien_dummy + Asian_dummy + 
                              Black_or_Other_dummy + Hispanic_dummy + SocScience_dummy + 
                              STEM_dummy + Hum_Educ_dummy + Other_Undec_dummy&quot;))
  print(paste(&quot;Model 4:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ all controls&quot;))
  print(summary(lm(formula4, data = data)))
}

# Run all combinations of dependent and explanatory variables
for(i in 1:length(WB_vars)) {
  for(j in 1:length(expl_vars)) {
    run_regressions(WB_vars[i], expl_vars[j], data_for_analysis)
  }
}</code></pre>
<p>Claude: The key changes are:</p>
<p>Added quotes around variable names in your vectors Modified the
function to build formula strings and convert them to formulas using
as.formula() Added the data parameter to the function Added some print
statements to help identify which model is being run</p>
<p>Make sure your data_for_analysis dataframe exists and contains all
the variables referenced in the code.</p>
<pre class="r"><code># Define variable names
WB_vars &lt;- c(&quot;WellBeing&quot;, &quot;Anxiety_POMP&quot;, &quot;Depression_POMP&quot;, &quot;LifeSatisf_POMP&quot;, 
             &quot;PosAffect_POMP&quot;, &quot;NegAffect_POMP&quot;)
expl_vars &lt;- c(&quot;CSJAS&quot;, &quot;Relig&quot;, &quot;Relig_inter&quot;, &quot;Relig_intra&quot;)

# Function to run regressions using formulas created from strings
run_regressions &lt;- function(dependent_var, explanatory_var) {
  # Model 1: Just the explanatory variable
  print(paste(&quot;Model 1:&quot;, dependent_var, &quot;~&quot;, explanatory_var))
  print(summary(lm(as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var)), data = data_for_analysis)))
  
  # Model 2: Add PolLib
  print(paste(&quot;Model 2:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib&quot;))
  print(summary(lm(as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib&quot;)), data = data_for_analysis)))
  
  # Model 3: Add Gender
  print(paste(&quot;Model 3:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib + Gender&quot;))
  print(summary(lm(as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, &quot;+ PolLib + Gender&quot;)), data = data_for_analysis)))
  
  # Model 4: Add all controls
  print(paste(&quot;Model 4:&quot;, dependent_var, &quot;~&quot;, explanatory_var, &quot;+ all controls&quot;))
  print(summary(lm(as.formula(paste(dependent_var, &quot;~&quot;, explanatory_var, 
    &quot;+ PolLib + Gender + SexOrien_dummy + Asian_dummy + Black_or_Other_dummy +
    Hispanic_dummy + SocScience_dummy + STEM_dummy + Hum_Educ_dummy +
    Other_Undec_dummy&quot;)), data = data_for_analysis)))
}

# Run all combinations of dependent and explanatory variables
for(i in 1:length(WB_vars)) {
  for(j in 1:length(expl_vars)) {
    run_regressions(WB_vars[i], expl_vars[j])
  }
}</code></pre>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
